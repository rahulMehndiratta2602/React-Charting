{"ast":null,"code":"import _classCallCheck from\"/home/mandy/Desktop/assignment-1-rahulMehndiratta2602/charting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mandy/Desktop/assignment-1-rahulMehndiratta2602/charting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/mandy/Desktop/assignment-1-rahulMehndiratta2602/charting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/mandy/Desktop/assignment-1-rahulMehndiratta2602/charting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/mandy/Desktop/assignment-1-rahulMehndiratta2602/charting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _objectSpread from\"/home/mandy/Desktop/assignment-1-rahulMehndiratta2602/charting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState,useEffect,Component}from'react';import'./index.css';import data from'./data';import Select from'react-select';// import JSONdata from './JSONdata';\nimport ReactFC from\"react-fusioncharts\";import FusionCharts from\"fusioncharts\";import Charts from\"fusioncharts/fusioncharts.charts\";import FusionTheme from\"fusioncharts/themes/fusioncharts.theme.fusion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";ReactFC.fcRoot(FusionCharts,Charts,FusionTheme);var chartConfig={\"chart\":{\"caption\":\"Stock\",\"xAxisname\":\"\",\"yAxisName\":\"Open Interest\",\"plotFillAlpha\":\"80\",\"theme\":\"fusion\",\"paletteColors\":\"#F25166,#5ABB8C\"},\"categories\":[{\"category\":[]}],\"dataset\":[{\"seriesname\":\"Call\",\"data\":[]},{\"seriesname\":\"Put\",\"data\":[]}]};var chartConfigs={type:'mscolumn2d',width:800,height:400,dataFormat:'json',dataSource:_objectSpread({},chartConfig)};var labels=[{value:'RELIANCE',label:'RELIANCE'},{value:'SBIN',label:'SBIN'},{value:'INFY',label:'INFY'}];var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state=chartConfigs;_this.updateData=_this.updateData.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.input=/*#__PURE__*/React.createRef();return _this;}_createClass(App,[{key:\"updateData\",value:function updateData(e){e.preventDefault();var label=this.input.current.state.selectValue[0].value;var prevDs=Object.assign({},this.state.dataSource);var _data$find=data.find(function(item){return item.ticker===label;}),values=_data$find.values;var strike=values.strike.map(function(item){return{label:\"\".concat(item)};});var call=values.calloi.map(function(item){return{value:item};});var put=values.putoi.map(function(item){return{value:item};});prevDs.chart.caption=label;prevDs.categories[0].category=strike;prevDs.dataset[0].data=call;prevDs.dataset[1].data=put;this.setState({dataSource:prevDs});}},{key:\"handleChange\",value:function handleChange(e){console.log(e);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-5\",children:/*#__PURE__*/_jsx(Select,{options:labels,ref:this.input,onChange:this.handleChange})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary btn-sm col-sm-2\",onClick:this.updateData,type:\"submit\",children:\"Update Chart Data\"})]}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(ReactFC,_objectSpread({},this.state))})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/mandy/Desktop/assignment-1-rahulMehndiratta2602/charting/src/App.js"],"names":["React","useState","useEffect","Component","data","Select","ReactFC","FusionCharts","Charts","FusionTheme","fcRoot","chartConfig","chartConfigs","type","width","height","dataFormat","dataSource","labels","value","label","App","props","state","updateData","bind","handleChange","input","createRef","e","preventDefault","current","selectValue","prevDs","Object","assign","find","item","ticker","values","strike","map","call","calloi","put","putoi","chart","caption","categories","category","dataset","setState","console","log"],"mappings":"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","sourcesContent":["import React,{useState,useEffect,Component} from 'react';\nimport './index.css';\n\nimport data from './data'\nimport Select from 'react-select';\n// import JSONdata from './JSONdata';\n\nimport ReactFC from \"react-fusioncharts\";\nimport FusionCharts from \"fusioncharts\";\nimport Charts from \"fusioncharts/fusioncharts.charts\";\nimport FusionTheme from \"fusioncharts/themes/fusioncharts.theme.fusion\";\n\nReactFC.fcRoot(FusionCharts, Charts, FusionTheme);\nconst chartConfig={\"chart\": {\n        \"caption\": \"Stock\",\n        \"xAxisname\": \"\",\n        \"yAxisName\": \"Open Interest\",\n        \"plotFillAlpha\": \"80\",\n        \"theme\": \"fusion\",\n        \"paletteColors\": \"#F25166,#5ABB8C\"\n    },\n    \"categories\": [\n        {\n            \"category\": []\n        }\n    ],\n    \"dataset\": [\n        {\n            \"seriesname\": \"Call\",\n            \"data\": []\n        },\n        {\n            \"seriesname\": \"Put\",\n            \"data\": []\n        }\n    ],}\n    \nconst chartConfigs = {\n  type: 'mscolumn2d',\n  width: 800,\n  height: 400,\n  dataFormat: 'json',\n  dataSource: {...chartConfig},\n};\nconst labels = [\n  {\n    value: 'RELIANCE',\n    label: 'RELIANCE'\n  },\n  {\n    value: 'SBIN',\n    label: 'SBIN'\n  },\n  {\n    value: 'INFY',\n    label: 'INFY'\n  }\n];\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = chartConfigs;\n\n    this.updateData = this.updateData.bind(this);\n    this.handleChange=this.handleChange.bind(this);\n    this.input = React.createRef();\n  }\n\n  updateData(e)\n  {\n    e.preventDefault();\n    let label=(this.input.current.state.selectValue[0].value); \n    var prevDs = Object.assign({}, this.state.dataSource);\n    const { values } = data.find(item => item.ticker === label);\n            const strike = values.strike.map((item) =>\n            {\n                return { label:`${item}`}\n            })\n            const call = values.calloi.map((item) =>\n            {\n                return { value:item}\n            })\n            const put= values.putoi.map((item) =>\n            {\n                return { value:item}\n            })\n    prevDs.chart.caption = label;\n    prevDs.categories[0].category = strike;\n    prevDs.dataset[0].data = call;\n    prevDs.dataset[1].data= put;\n    this.setState({\n      dataSource: prevDs,\n    });\n  }\n  handleChange(e)\n  {\n    console.log(e);  \n  }\n\n  render() {\n    return (\n      <div>\n        <div className='container'>\n          <div className='col-sm-5'>\n            <Select options={labels} ref={this.input} onChange={this.handleChange}/>\n          </div>\n           <button\n              className='btn btn-outline-secondary btn-sm col-sm-2'\n              onClick={this.updateData}\n              type='submit'\n           >\n             Update Chart Data\n           </button>\n        </div>\n        <center><ReactFC {...this.state} /></center>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}